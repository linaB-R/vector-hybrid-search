{
  "source": "supabase_postgres: glovo_ai.products",
  "limit": 1000,
  "text_col": "text_emb_clip_multi",
  "image_col": "image_emb_clip",
  "pair_stats": {
    "count": 1000,
    "cos_pos_mean": 0.2740206718444824,
    "cos_pos_median": 0.2731608748435974,
    "cos_pos_p95": 0.3222920000553131,
    "euc_pos_mean": 1.2047206163406372,
    "euc_pos_median": 1.2056858539581299,
    "euc_pos_p05": 1.164223313331604,
    "cos_neg_mean": 0.22218115627765656,
    "cos_neg_p95": 0.2701805531978607,
    "euc_neg_mean": 1.247005820274353,
    "euc_neg_p05": 1.2081551551818848
  },
  "retrieval": {
    "text_to_image": {
      "recall@1": 0.078,
      "ndcg@1": 0.078,
      "recall@5": 0.193,
      "ndcg@5": 0.13533112924167065,
      "recall@10": 0.263,
      "ndcg@10": 0.15767917278282004,
      "mrr": 0.1424714288640988
    },
    "image_to_text": {
      "recall@1": 0.092,
      "ndcg@1": 0.092,
      "recall@5": 0.195,
      "ndcg@5": 0.14650015674697278,
      "recall@10": 0.285,
      "ndcg@10": 0.17534723592555593,
      "mrr": 0.15781854230618192
    }
  },
  "label_metrics": {
    "knn_1_acc": 0.079,
    "silhouette_cosine": -0.19181911647319794
  },
  "cluster_metrics": {
    "ari": 0.024385281987695476,
    "nmi": 0.8849091671640031
  },
  "visualizations": {
    "tsne_png": "src\\tests\\metrics\\viz_text_emb_clip_multi_1000_tsne.png",
    "umap_png": "src\\tests\\metrics\\viz_text_emb_clip_multi_1000_umap.png"
  },
  "explanations": {
    "cosine": "Cosine similarity close to 1 means stronger text\u2194image alignment; negatives should be lower.",
    "euclidean": "Smaller Euclidean distance means more similar vectors; positives should be lower than negatives.",
    "retrieval": "Recall@K is fraction of queries retrieving the true pair in top-K; nDCG@K rewards higher ranks; MRR is average inverse rank.",
    "knn": "1-NN accuracy shows if nearest neighbor shares the same collection_section.",
    "silhouette": "Silhouette (cosine) near 1 indicates well-separated clusters by collection_section; near 0 overlaps; negative indicates mis-clustering.",
    "tsne_umap": "2D projections visualize cluster structure; tighter, separated groups suggest coherent embeddings.",
    "ari_nmi": "ARI and NMI compare KMeans clusters to collection_section; higher is better (perfect = 1)."
  },
  "seconds": 125.84
}